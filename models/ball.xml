<mujoco model="ball_balancing_arm">
    <compiler angle="degree" coordinate="local"/>
    <option timestep="0.002" gravity="0 0 -9.81"/>

    <default>
        <joint damping="1"/>
        <geom friction="0.6 0.2 0.1" density="1000"/>
    </default>

    <worldbody>

        <!-- Base -->
        <body name="base" pos="0 0 0">
            <geom type="box" size="0.1 0.1 0.05" rgba="0.3 0.3 0.3 1"/>

            <!-- Link 1 -->
            <body name="link1" pos="0 0 0.05">
                <joint name="joint_y"
                       type="hinge"
                       axis="0 1 0"
                       limited="true"
                       range="-25 25"/>

                <geom type="box"
                      size="0.02 0.02 0.15"
                      pos="0 0 0.15"
                      rgba="0.6 0.6 0.6 1"/>

                <!-- Link 2 -->
                <body name="link2" pos="0 0 0.3">
                    <joint name="joint_x"
                           type="hinge"
                           axis="1 0 0"
                           limited="true"
                           range="-45 45"/>

                    <geom type="box"
                          size="0.02 0.02 0.1"
                          pos="0 0 0.1"
                          rgba="0.7 0.7 0.7 1"/>

                    <!-- Plate with walls -->
                    <body name="plate" pos="0 0 0.2">
                        <!-- Plate surface -->
                        <geom type="box"
                              size="0.15 0.15 0.01"
                              rgba="0.2 0.6 0.8 1"/>

                        <!-- Walls -->
                        <geom type="box" size="0.15 0.005 0.03" pos="0 0.145 0.03"/>
                        <geom type="box" size="0.15 0.005 0.03" pos="0 -0.145 0.03"/>
                        <geom type="box" size="0.005 0.15 0.03" pos="0.145 0 0.03"/>
                        <geom type="box" size="0.005 0.15 0.03" pos="-0.145 0 0.03"/>
                    </body>

                </body>
            </body>
        </body>

        <!-- Ball -->
        <body name="ball" pos="0 0 0.7">
            <joint type="free"/>
            <geom type="sphere"
                  size="0.02"
                  rgba="0.9 0.1 0.1 1"/>
        </body>

    </worldbody>

    <!-- Actuators -->
    <actuator>
        <motor joint="joint_y" ctrlrange="-1 1" gear="150"/>
        <motor joint="joint_x" ctrlrange="-1 1" gear="150"/>
    </actuator>

</mujoco>
